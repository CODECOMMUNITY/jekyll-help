<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/jquery.emoji.js"></script>
    <title>URLs not being properly formatted - contain commas</title>
  </head>
  <body>
    <div class="container">
      <header>
        <p>
          <span class="badge open">open</span>
          <span class="url">jekyll/jekyll-help#227</span>
        </p>
        <h1>URLs not being properly formatted - contain commas</h1>
      </header>
      <div class="comments">
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/">sr-murthy</a>
            <time>Sunday, January 04, 2015</time>
          </div>
          <div class="body">
            <p>Hi</p>
<p>I have two questions (I have checked the docs and other issues but cannot find a solution to this).</p>
<ol>
<li><p>I have created separate layout files (in <code>_layouts/</code>) for a default site-wide page style, and non-discussion posts and discussion posts (posts with Disqus comments enabled).  Specifically, pages follow the default layout specified in <code>default.html</code> which is standard, and non-discussion posts follow the standard <code>post.html</code> layout.  But the <code>discussion_posts</code> style were defined in <code>_config.yml</code> in the following way:</p>
<pre><code> defaults:  
 -
   scope:
     path: &quot;/_posts/&quot;
     type: &quot;posts&quot;
   values:
     layout: &quot;discussion_posts&quot;
     author: &quot;Sandeep Murthy&quot;
 -    
   scope:
     path: &quot;.&quot;
     type: &quot;pages&quot;
   values:
     layout: &quot;default&quot;
     author: &quot;Sandeep Murthy&quot;
</code></pre><p>I&#39;m not quite clear about the path key?  I am trying to specify a relative path (relative to the root of the repo) but I am not quite clear if this is causing my problem.  This may be linked to how the URLs are appearing incorrectly.  For example, my <code>index.html</code> contains a list of posts, this is generated by liquid code which loops over <code>site.posts</code>. The code is</p>
<p> &lt;ul class=&quot;post-list&quot;&gt;
    {% for post in site.posts %}
      &lt;li&gt;
        &lt;span class=&quot;post-meta&quot;&gt;{{ post.date | date: &quot;%b %-d, %Y&quot; }}&lt;/span&gt;

        &lt;h2&gt;
          &lt;a class=&quot;post-link&quot; href=&quot;{{ site.url }}/{{ post.url }}&quot;#disqus_thread&gt;{{ post.title }}&lt;/a&gt;
        &lt;/h2&gt;
      &lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;

</p>
</li>
</ol>
<p>The <code>site.url</code> is set to <code>http://localhost:4000</code> in <code>_config.yml</code> when I&#39;m testing the site locally.  This code displays the posts (there is only one right now) as</p>
<pre><code>http://localhost:4000//blog,/first/post,/jekyll,/codefree,/2015/2015/01/01/first-post.html
</code></pre><p>The post name is <code>2015-01-01-first-post.md</code>, which exists in the root of the repo, and as you can see above, there are commas separating them.</p>
<p>Why is this happening?  Is there a simpler way of outputting the URLs?  Thanks in advance.</p>

          </div>
        </div>

        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/troyswanson">
              troyswanson
            </a>
            <time>Sunday, January 04, 2015</time>
          </div>
          <div class="body"><p>This is some pretty strange behavior that can probably be explained by a wayward bit of code somewhere. Would it be possible for you to post a link to the repo that this site uses?</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/sr-murthy">
              sr-murthy
            </a>
            <time>Sunday, January 04, 2015</time>
          </div>
          <div class="body"><p>Yes, <a href="https://github.com/sr-murthy/sr-murthy.github.io">https://github.com/sr-murthy/sr-murthy.github.io</a>.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/sr-murthy">
              sr-murthy
            </a>
            <time>Monday, January 05, 2015</time>
          </div>
          <div class="body"><p>I should add that I am fairly new to liquid, YAML (and jekyll) and this line is perhaps the problem:</p>
<pre><code>&lt;a class=&quot;post-link&quot; href=&quot;{{ site.url }}/{{ post.url }}&quot;#disqus_thread&gt;{{ post.title }}&lt;/a&gt;
</code></pre><p>What should <code>post.url</code> look like - it&#39;s not what I&#39;m expecting, but this line is standard in <code>index.html</code> when you start a jekyll site.  It would be helpful if jekyll docs define the full list of attributes of <code>post</code> and all other variables <a href="http://jekyllrb.com/docs/variables/">this page</a>.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/sr-murthy">
              sr-murthy
            </a>
            <time>Tuesday, January 06, 2015</time>
          </div>
          <div class="body"><p>Fixed.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/troyswanson">
              troyswanson
            </a>
            <time>Wednesday, January 07, 2015</time>
          </div>
          <div class="body"><p>Can you post the fix that you found so that others with a similar problem can reference? Sorry I wasn&#39;t able to dig deeper into your issue to help, by the way. Been really busy :confounded: </p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/sr-murthy">
              sr-murthy
            </a>
            <time>Wednesday, January 07, 2015</time>
          </div>
          <div class="body"><p>Hi</p>
<p>it&#39;s not quite fixed actually, but there&#39;s a related problem with permalinks which is the real problem - that. </p>
<p>Sandeep.</p>
</div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.comment').each(function(i, d){
          $(d).emoji()
        })
      })
    </script>

  </body>
</html>
