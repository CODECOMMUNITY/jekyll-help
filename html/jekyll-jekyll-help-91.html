<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/jquery.emoji.js"></script>
    <title>Iterating through multiple _data items</title>
  </head>
  <body>
    <div class="container">
      <header>
        <p>
          <span class="badge closed">closed</span>
          <span class="url">jekyll/jekyll-help#91</span>
        </p>
        <h1>Iterating through multiple _data items</h1>
      </header>
      <div class="comments">
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/">budparr</a>
            <time>Saturday, July 05, 2014</time>
          </div>
          <div class="body">
            <p>If I have the following in a document&#39;s front matter:</p>
<pre><code>authors: &quot;author1, author5, author7&quot;
</code></pre><p>and a _data file <code>authors.yaml</code> with, say 20 authors:</p>
<pre><code>- 
 identifier: author1
 name: Author Name
 bio: &quot;Author Bio&quot;
- 
 identifier: author2
 name: Author2 Name
 bio: &quot;Author2 Bio&quot;

etc....
</code></pre><p>I&#39;d like pull each author&#39;s name and bio in my template. What&#39;s the best way to go about this?</p>

          </div>
        </div>

        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jaybe-jekyll">
              jaybe-jekyll
            </a>
            <time>Saturday, July 05, 2014</time>
          </div>
          <div class="body"><p>The following in an approach to accomplishing:
<em>Based upon latest <code>jekyll new testsite</code> (v.2.1.0)</em></p>
<blockquote>
<p>./_data/authors.yml</p>
</blockquote>
<pre><code class="lang-yaml">- id: &#39;author1&#39;
  name: &#39;Author Name&#39;
  bio: &#39;Author Bio&#39;

- id: &#39;author2&#39;
  name: &#39;Author2 Name&#39;
  bio: &#39;Author2 Bio&#39;

- id: &#39;author3&#39;
  name: &#39;Author Name&#39;
  bio: &#39;Author Bio&#39;

- id: &#39;author4&#39;
  name: &#39;Author2 Name&#39;
  bio: &#39;Author2 Bio&#39;
</code></pre>
<blockquote>
<p>./_layouts/post.html</p>
</blockquote>
<pre><code class="lang-html">---
layout: default
---
&lt;div class=&quot;post&quot;&gt;

  &lt;header class=&quot;post-header&quot;&gt;
    &lt;h1&gt;{{ page.title }}&lt;/h1&gt;
    &lt;p class=&quot;meta&quot;&gt;{{ page.date | date: &quot;%b %-d, %Y&quot; }}{% if page.author %} • {{ page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{% endif %}&lt;/p&gt;
    &lt;p class=&quot;meta&quot;&gt;{% include authors.html %}&lt;/p&gt;
  &lt;/header&gt;

  &lt;article class=&quot;post-content&quot;&gt;
  {{ content }}
  &lt;/article&gt;

&lt;/div&gt;
</code></pre>
<p><em>Key addition is: <code>&lt;p class=&quot;meta&quot;&gt;{% include authors.html %}&lt;/p&gt;</code></em></p>
<blockquote>
<p>./_posts/2014-07-05-welcome-to-jekyll.markdown</p>
</blockquote>
<pre><code>---
layout: post
title:  &quot;Welcome to Jekyll!&quot;
date:   2014-07-05 09:07:48
categories: jekyll update
authors: 
  - author2
  - author4
---

You&#39;ll find this post in your `_posts` directory - edit this post and re-build (or run with the `-w` switch) to see your changes!
To add new posts, simply add a file in the `_posts` directory that follows the convention: YYYY-MM-DD-name-of-post.ext.

Jekyll also offers powerful support for code snippets:

{% highlight ruby %}
def print_hi(name)
  puts &quot;Hi, #{name}&quot;
end
print_hi(&#39;Tom&#39;)
#=&gt; prints &#39;Hi, Tom&#39; to STDOUT.
{% endhighlight %}

Check out the [Jekyll docs][jekyll] for more info on how to get the most out of Jekyll. File all bugs/feature requests at [Jekyll&#39;s GitHub repo][jekyll-gh].

[jekyll-gh]: https://github.com/jekyll/jekyll
[jekyll]:    http://jekyllrb.com
</code></pre><p><em>Key additions:</em></p>
<pre><code class="lang-yaml">authors: 
  - author2
  - author4
</code></pre>
<blockquote>
<p>./_includes/authors.html</p>
</blockquote>
<pre><code class="lang-liquid">{% for author in page.authors %}
  {% for siteauthor in site.data.authors %}
    {% if author == siteauthor.id %}
      &lt;p&gt;Author: {{ siteauthor }}&lt;/p&gt;
    {% endif %}
  {% endfor %}
{% endfor %}
</code></pre>
<blockquote>
<p>Expected/Example Output:</p>
</blockquote>
<pre><code>...

Welcome to Jekyll!
Jul 5, 2014
Author: {&quot;id&quot;=&gt;&quot;author2&quot;, &quot;name&quot;=&gt;&quot;Author2 Name&quot;, &quot;bio&quot;=&gt;&quot;Author2 Bio&quot;}
Author: {&quot;id&quot;=&gt;&quot;author4&quot;, &quot;name&quot;=&gt;&quot;Author2 Name&quot;, &quot;bio&quot;=&gt;&quot;Author2 Bio&quot;}
You’ll find this post in your _posts directory - edit this post and re-build (or run with the -w switch) to see your changes! To add new posts, simply add a file in the _posts directory that follows the convention: YYYY-MM-DD-name-of-post.ext.

...
</code></pre></div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/budparr">
              budparr
            </a>
            <time>Saturday, July 05, 2014</time>
          </div>
          <div class="body"><p>Ah, of course! So simple to nest the loop, now that you say it. Much appreciated, @jaybe-jekyll. </p>
<p>Here&#39;s what I ended up with for anyone else who finds this post:</p>
<pre><code>{% for article_authors in page.authors %}
  {% assign author_data = site.data.authors | where: &#39;twitter&#39;, article_authors %}
  {% for author in author_data %}
      {{ author.name }}
  {% endfor %}
{% endfor %}
</code></pre></div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.comment').each(function(i, d){
          $(d).emoji()
        })
      })
    </script>

  </body>
</html>
