<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/jquery.emoji.js"></script>
    <title>category with 2 words url problems</title>
  </head>
  <body>
    <div class="container">
      <header>
        <p>
          <span class="badge open">open</span>
          <span class="url">jekyll/jekyll-help#129</span>
        </p>
        <h1>category with 2 words url problems</h1>
      </header>
      <div class="comments">
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/">rdyar</a>
            <time>Sunday, August 17, 2014</time>
          </div>
          <div class="body">
            <p>I am defining:
category: abc xyz
in the post front matter.</p>
<p>Then I have the permalink in the _config file as:
permalink: /:categories/:title/</p>
<p>when the site generates I get a url that has spaces in it.</p>
<p>Is it possible to have the space in the category replaced with a dash in the url?</p>
<p>This is breaking when I upload to Amazon S3.</p>

          </div>
        </div>

        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jaybe-jekyll">
              jaybe-jekyll
            </a>
            <time>Sunday, August 17, 2014</time>
          </div>
          <div class="body"><p><code>categories: abc xyz</code></p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/rdyar">
              rdyar
            </a>
            <time>Sunday, August 17, 2014</time>
          </div>
          <div class="body"><p>Not sure I understand. It is one category with 2 words - like My Category - not two separate one word categories.</p>
<p>Are you saying the proper way to reference a category in the front matter is with categories rather than category?</p>
<p>I am pretty confused by the difference (if there is one).</p>
<p>I will try it out on a sample site - the actual site already has hundreds of posts - not as simple to test.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/rdyar">
              rdyar
            </a>
            <time>Sunday, August 17, 2014</time>
          </div>
          <div class="body"><p>it looks like 
<code>categories: abc xyz</code> 
gives me abc/xyz/title/ </p>
<p>and 
<code>category: abc xyz</code> 
gives me /abc xyz/title/ - which is what I want but with a dash instead of a space.</p>
<p>What I want is /abc-xyz/title/</p>
<p>I&#39;m thinking having a category with more than one word is a problem.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Monday, August 18, 2014</time>
          </div>
          <div class="body"><pre><code class="lang-yaml">categories:
  - This is one category
  - This is another category
</code></pre>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jaybe-jekyll">
              jaybe-jekyll
            </a>
            <time>Monday, August 18, 2014</time>
          </div>
          <div class="body"><p>And or:</p>
<p><code>categories: [&#39;The is a category&#39;, &#39;This is another category&#39;]</code></p>
<p>Documentation:  <a href="http://jekyllrb.com/docs/frontmatter/#predefined-global-variables">http://jekyllrb.com/docs/frontmatter/#predefined-global-variables</a></p>
<ul>
<li>see Category/Categories</li>
</ul>
<p>Documentation for YAML lists:  <a href="http://en.wikipedia.org/wiki/YAML#Lists">http://en.wikipedia.org/wiki/YAML#Lists</a></p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Monday, August 18, 2014</time>
          </div>
          <div class="body"><blockquote>
<p>Documentation for YAML lists: <a href="http://en.wikipedia.org/wiki/YAML#Lists">http://en.wikipedia.org/wiki/YAML#Lists</a></p>
</blockquote>
<p>Wow. Since when is Wikipedia the place where you find the indept docs? Good to know.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/rdyar">
              rdyar
            </a>
            <time>Monday, August 18, 2014</time>
          </div>
          <div class="body"><p>I understand how all of those examples work, but none of them generate a proper url with a dash instead of a space - sure, they are multi-word categories, but the resulting url to the post has spaces between the words which breaks on amazon s3.</p>
<p>I don&#39;t understand who would want a space in the post url.</p>
<p>I don&#39;t think this is solvable as is (other than by taking category out of the url), so I made all of my categories one word :(.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Monday, August 18, 2014</time>
          </div>
          <div class="body"><p>Oh wow, I haven’t realized this. This is not good. Generated URL&#39;s should have dashes instead of spaces, in my opinion. I think we should enforce this Jekyll’s permalinks.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/ndarville">
              ndarville
            </a>
            <time>Tuesday, August 19, 2014</time>
          </div>
          <div class="body"><p>If the <code>category: abc xyz</code> is actually supported, I’d be sure to write it as <code>category: &quot;abc&quot; &quot;xyz&quot;</code> just to remove any ambiguous interpretation of the two elements.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Tuesday, August 19, 2014</time>
          </div>
          <div class="body"><p>@ndarville If you use the singular keyword, you only will get one category. However you can use the plural key with only one category. Thus always using <code>categories: […]</code> is fine and leaves open all possibilities.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/JonathanReeve">
              JonathanReeve
            </a>
            <time>Sunday, September 14, 2014</time>
          </div>
          <div class="body"><p>+1 on this. I have a new jekyll blog (at <a href="http://jonreeve.com">http://jonreeve.com</a>) that has a category called &quot;digital humanities.&quot; I had to choose a permalink that didn&#39;t include the category, since a permalink with the form <code>http://domain.com/category/year/month/title</code> gave me urls like <code>http://jonreeve.com/digital humanities/2014/04/post.html</code>. If anyone knows of a plugin that can convert categories containing spaces into urls with dashes, please let me know. </p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Sunday, September 14, 2014</time>
          </div>
          <div class="body"><blockquote>
<p>If anyone knows of a plugin that can convert categories containing spaces into urls with dashes, please let me know.</p>
</blockquote>
<p>If this is really not the case, I consider this a bug which should be fixed. Categories with spaces should result in a URL with dashes.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/binoyte">
              binoyte
            </a>
            <time>Tuesday, September 30, 2014</time>
          </div>
          <div class="body"><p>I have a &quot;black and white&quot; category. How can I filter like :</p>
<pre><code>{% for post in site.categories.&#39;black and white&#39; %}
</code></pre><p>I think I have to replace blanks by underscores and use <code>| replace: &#39;_&#39;,&#39;  &#39;</code> for clean ouputs.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Tuesday, September 30, 2014</time>
          </div>
          <div class="body"><pre><code class="lang-liquid">{% for post in site.posts | where: &#39;category&#39;,&#39;black and white&#39; %}
</code></pre>
<p>Can you try something like this? I haven&#39;t tested that. I&#39;m not sure, because when you have multiple categories you usually have <code>categories</code> instead of <code>category</code>.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jrabef">
              jrabef
            </a>
            <time>Friday, October 10, 2014</time>
          </div>
          <div class="body"><p>Has this been looked into? I&#39;m considering migrating from wordpress to Jekyll and I want this &quot;feature&quot; added. :)</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Saturday, October 11, 2014</time>
          </div>
          <div class="body"><p>Multiple word categories are available.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/jaybe-jekyll">
              jaybe-jekyll
            </a>
            <time>Sunday, October 19, 2014</time>
          </div>
          <div class="body"><p>Is the problem stated as follows?</p>
<blockquote>
<p>Multi-word categor[y|ies] separated with white space results in a permalink with an explicit space versus a slugged version (hyphenated).</p>
</blockquote>
<p>-- </p>
<blockquote>
<p>Slugify
Convert a string into a lowercase URL &quot;slug&quot; by replacing every sequence of spaces and non-alphanumeric characters with a hyphen.</p>
</blockquote>
<p><a href="http://jekyllrb.com/docs/templates/#filters">http://jekyllrb.com/docs/templates/#filters</a></p>
<p>Should we be slugify&#39;ing the permalink but are not?</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/rdyar">
              rdyar
            </a>
            <time>Sunday, October 19, 2014</time>
          </div>
          <div class="body"><p>yes, that is my problem. I gave up and made all my multi word categories into one word categories. </p>
<p>Multi word categories work fine except for the space in the url is not slugged.</p>
<p>I have not tested this since August but assume it has not been fixed yet.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/JonathanReeve">
              JonathanReeve
            </a>
            <time>Monday, October 20, 2014</time>
          </div>
          <div class="body"><p>@kleinfreund, yes, multiple word categories are available, if you don&#39;t mind having malformed URLs. But people probably don&#39;t want spaces in their URLs. @jaybe-jekyll: you got it. That&#39;s the problem. </p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/kleinfreund">
              kleinfreund
            </a>
            <time>Monday, October 20, 2014</time>
          </div>
          <div class="body"><p>That is an issue which should be fixed. We can&#39;t support multiple word categories without them being slugified like single word categories are.</p>
<p>I consider that a bug.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/djacquel">
              djacquel
            </a>
            <time>Friday, October 31, 2014</time>
          </div>
          <div class="body"><p>This needs to change the way Jekyll generates urls for posts. This can be done with a plugin.</p>
<pre><code># _plugins/post.rb
module Jekyll

  class Post

    # override post method in order to return categories names as slug
    # instead of strings
    #
    # An url for a post with category &quot;category with space&quot; will be in
    # slugified form : /category-with-space
    # instead of url encoded form : /category%20with%20space
    #
    # @see utils.slugify
    def url_placeholders
      {
          :year        =&gt; date.strftime(&quot;%Y&quot;),
          :month       =&gt; date.strftime(&quot;%m&quot;),
          :day         =&gt; date.strftime(&quot;%d&quot;),
          :title       =&gt; slug,
          :i_day       =&gt; date.strftime(&quot;%-d&quot;),
          :i_month     =&gt; date.strftime(&quot;%-m&quot;),
          :categories  =&gt; (categories || []).map { |c| Utils.slugify(c) }.join(&#39;/&#39;),
          :short_month =&gt; date.strftime(&quot;%b&quot;),
          :short_year  =&gt; date.strftime(&quot;%y&quot;),
          :y_day       =&gt; date.strftime(&quot;%j&quot;),
          :output_ext  =&gt; output_ext
      }
    end

  end

end
</code></pre><p>@kleinfreund : The actual way Jekyll does urls generation is <a href="http://www.ietf.org/rfc/rfc1738.txt">RFC 1738</a> compliant. There is no bug in here.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/djacquel">
              djacquel
            </a>
            <time>Friday, October 31, 2014</time>
          </div>
          <div class="body"><p>@xirux-nefer : Beware of Jekyll Categories !</p>
<p>This is valid : </p>
<pre><code>categories: [mutli word, toto]
or
category: mutli word
</code></pre><p>But this doesn&#39;t have the same effect on post object.
When declaring <code>category</code>, post.category (string) and post.categories (array) are set.
When declaring <code>categories</code>, only post.categories is set.</p>
<p>The test <code>{% if post.category == &quot;Something with several words&quot; %}</code> might fail if, for example you have default categories set in config. </p>
<p>It&#39;s better to test on <code>post.categories</code> with <code>{% if post.categories contains &quot;Something with several words&quot; %}</code></p>
<p>I have checked you tests on a fresh Jekyll and :</p>
<pre><code>{% for post in site.posts | where: &#39;category&#39;,&#39;Something with several words&#39; %}
</code></pre><p>Will not work, because you cannot put a filter on a loop. You have to capture first, then loop.</p>
<pre><code>{% capture myposts %}
{{ site.posts where: &#39;category&#39;,&#39;Something with several words&#39; %}
{%endcapture%}
{% for post in myposts %}
...
</code></pre><p><strong>problem</strong> : if your capture return only one post, you cannot loop through it. The loop will only work if you have two or more posts returned.</p>
<p>With <code>category: &quot;Something with several words&quot;</code> set, this test works for me.</p>
<pre><code>{% for post in site.posts %}
    {% if post.category == &quot;Something with several words&quot; %}
</code></pre></div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/parkr">
              parkr
            </a>
            <time>Sunday, November 23, 2014</time>
          </div>
          <div class="body"><p>If we slugify these categories, we will likely break a lot of sites. Your web server should be able to handle spaces in URL&#39;s.</p>
</div>
        </div>
        <div class="comment">
          <div class="meta">
            <a class="person" href="https://github.com/pamgriffith">
              pamgriffith
            </a>
            <time>Thursday, April 02, 2015</time>
          </div>
          <div class="body"><p>Is there any progress on this? I, too, would like to have multi-word categories and no spaces in my urls. I will try the plugin, but this seems like it should be a core feature, as I believe spaces in URLs are supposed to be percent encoded (both by the RFC referenced above, which specifically calls them out as &quot;unsafe&quot; and <a href="http://tools.ietf.org/html/rfc3986">rfc3986</a>, which updates it).</p>
</div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      $(document).ready(function(){
        $('.comment').each(function(i, d){
          $(d).emoji()
        })
      })
    </script>

  </body>
</html>
